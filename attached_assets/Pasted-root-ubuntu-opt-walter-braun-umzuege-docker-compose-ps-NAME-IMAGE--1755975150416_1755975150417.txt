root@ubuntu:/opt/walter-braun-umzuege# docker compose ps
NAME               IMAGE                      COMMAND                  SERVICE    CREATED         STATUS                          PORTS
walter_braun_db    postgres:15-alpine         "docker-entrypoint.s‚Ä¶"   postgres   2 minutes ago   Up 2 minutes (healthy)          0.0.0.0:5432->5432/tcp, [::]:5432->5432/tcp
walter_braun_web   walter-braun-umzuege-web   "docker-entrypoint.s‚Ä¶"   web        2 minutes ago   Up About a minute (unhealthy)   0.0.0.0:80->5000/tcp, [::]:80->5000/tcp
root@ubuntu:/opt/walter-braun-umzuege# docker compose logs web --tail=50
walter_braun_web  | 6:49:54 PM [production] üöÄ Starting Walter Braun Umz√ºge Production Server...
walter_braun_web  | 6:49:54 PM [production] üîß Using tsx for TypeScript execution with full Blog system
walter_braun_web  | 6:49:54 PM [production] ‚úÖ Production wrapper started successfully
walter_braun_web  | npm warn exec The following package was not found and will be installed: tsx@4.20.4
walter_braun_web  | 6:49:58 PM [express] ü§ñ Starting automated blog system...
walter_braun_web  | üöÄ Starting Blog Scheduler...
walter_braun_web  | üîÑ Testing PostgreSQL connection...
walter_braun_web  | 6:49:58 PM [express] ‚úÖ Blog scheduler initialized successfully
walter_braun_web  | 6:49:58 PM [express] üöÄ Walter Braun Umz√ºge Production Server auf Port 5000
walter_braun_web  | 6:49:58 PM [express] üè• Health Check: http://localhost:5000/health
walter_braun_web  | 6:49:58 PM [express] üåç Environment: production
walter_braun_web  | 6:49:58 PM [express] üìÅ Static files: /app/dist/public
walter_braun_web  | 6:49:58 PM [express] ‚úÖ Vollst√§ndiges Blog-System aktiv
walter_braun_web  | ‚ö†Ô∏è PostgreSQL connection failed, falling back to FileStorage
walter_braun_web  | Error: Error connecting to database: fetch failed
walter_braun_web  | ‚úÖ Using FileStorage for persistent blog system
walter_braun_web  | Initializing topic pool with default topics...
walter_braun_web  | Current unused topics: 0
walter_braun_web  | Generating 22 new topics...
walter_braun_web  | üîÑ Topic generation attempt 1/2...
walter_braun_web  | üîÑ Calling DeepSeek API...
walter_braun_web  | üì° DeepSeek API attempt 1/3...
walter_braun_web  | ‚úÖ DeepSeek API response received
walter_braun_web  | ‚úÖ Generated content length: 5712 characters
walter_braun_web  | ‚úÖ Successfully generated 22 new topics
walter_braun_web  | ‚úÖ Topic pool initialized
walter_braun_web  | üìù Generating initial blog post...
walter_braun_web  | üîÑ Starting blog post generation...
walter_braun_web  | Current unused topics: 0
walter_braun_web  | Generating 22 new topics...
walter_braun_web  | üîÑ Topic generation attempt 1/2...
walter_braun_web  | üîÑ Calling DeepSeek API...
walter_braun_web  | üì° DeepSeek API attempt 1/3...
root@ubuntu:/opt/walter-braun-umzuege# docker compose logs nginx --tail=20
no such service: nginx
root@ubuntu:/opt/walter-braun-umzuege# docker compose logs postgres --tail=20
walter_braun_db  | /usr/local/bin/docker-entrypoint.sh: ignoring /docker-entrypoint-initdb.d/*
walter_braun_db  |
walter_braun_db  | waiting for server to shut down....2025-08-23 18:49:25.325 UTC [43] LOG:  received fast shutdown request
walter_braun_db  | 2025-08-23 18:49:25.325 UTC [43] LOG:  aborting any active transactions
walter_braun_db  | 2025-08-23 18:49:25.330 UTC [43] LOG:  background worker "logical replication launcher" (PID 49) exited with exit code 1
walter_braun_db  | 2025-08-23 18:49:25.330 UTC [44] LOG:  shutting down
walter_braun_db  | 2025-08-23 18:49:25.332 UTC [44] LOG:  checkpoint starting: shutdown immediate
walter_braun_db  | 2025-08-23 18:49:25.358 UTC [44] LOG:  checkpoint complete: wrote 921 buffers (5.6%); 0 WAL file(s) added, 0 removed, 0 recycled; write=0.018 s, sync=0.007 s, total=0.028 s; sync files=301, longest=0.001 s, average=0.001 s; distance=4239 kB, estimate=4239 kB
walter_braun_db  | 2025-08-23 18:49:25.368 UTC [43] LOG:  database system is shut down
walter_braun_db  |  done
walter_braun_db  | server stopped
walter_braun_db  |
walter_braun_db  | PostgreSQL init process complete; ready for start up.
walter_braun_db  |
walter_braun_db  | 2025-08-23 18:49:25.449 UTC [1] LOG:  starting PostgreSQL 15.14 on x86_64-pc-linux-musl, compiled by gcc (Alpine 14.2.0) 14.2.0, 64-bit
walter_braun_db  | 2025-08-23 18:49:25.449 UTC [1] LOG:  listening on IPv4 address "0.0.0.0", port 5432
walter_braun_db  | 2025-08-23 18:49:25.450 UTC [1] LOG:  listening on IPv6 address "::", port 5432
walter_braun_db  | 2025-08-23 18:49:25.451 UTC [1] LOG:  listening on Unix socket "/var/run/postgresql/.s.PGSQL.5432"
walter_braun_db  | 2025-08-23 18:49:25.455 UTC [59] LOG:  database system was shut down at 2025-08-23 18:49:25 UTC
walter_braun_db  | 2025-08-23 18:49:25.461 UTC [1] LOG:  database system is ready to accept connections
root@ubuntu:/opt/walter-braun-umzuege# netstat -tlnp | grep -E ':80|:443|:5000'
Command 'netstat' not found, but can be installed with:
apt install net-tools
root@ubuntu:/opt/walter-braun-umzuege# ls -la data/
total 20
drwxr-xr-x  2 root root 4096 Aug 23 18:48 .
drwxr-xr-x 13 root root 4096 Aug 23 18:48 ..
-rw-rw-rw-  1 root root 9659 Aug 23 18:51 blog_ideas.json
-rw-rw-rw-  1 root root    0 Aug 23 18:48 blog_posts.json
-rw-rw-rw-  1 root root    0 Aug 23 18:48 contacts.json
root@ubuntu:/opt/walter-braun-umzuege# ls -la uploads/
total 8
drwxr-xr-x  2 root root 4096 Aug 13 11:21 .
drwxr-xr-x 13 root root 4096 Aug 23 18:48 ..
root@ubuntu:/opt/walter-braun-umzuege# docker run --rm -v "$(pwd)/nginx.conf:/etc/nginx/nginx.conf:ro" nginx:alpine nginx -t
Unable to find image 'nginx:alpine' locally
alpine: Pulling from library/nginx
9824c27679d3: Already exists
6bc572a340ec: Pull complete
403e3f251637: Pull complete
9adfbae99cb7: Pull complete
7a8a46741e18: Pull complete
c9ebe2ff2d2c: Pull complete
a992fbc61ecc: Pull complete
cb1ff4086f82: Pull complete
Digest: sha256:42a516af16b852e33b7682d5ef8acbd5d13fe08fecadc7ed98605ba5e3b26ab8
Status: Downloaded newer image for nginx:alpine
/docker-entrypoint.sh: /docker-entrypoint.d/ is not empty, will attempt to perform configuration
/docker-entrypoint.sh: Looking for shell scripts in /docker-entrypoint.d/
/docker-entrypoint.sh: Launching /docker-entrypoint.d/10-listen-on-ipv6-by-default.sh
10-listen-on-ipv6-by-default.sh: info: Getting the checksum of /etc/nginx/conf.d/default.conf
10-listen-on-ipv6-by-default.sh: info: Enabled listen on IPv6 in /etc/nginx/conf.d/default.conf
/docker-entrypoint.sh: Sourcing /docker-entrypoint.d/15-local-resolvers.envsh
/docker-entrypoint.sh: Launching /docker-entrypoint.d/20-envsubst-on-templates.sh
/docker-entrypoint.sh: Launching /docker-entrypoint.d/30-tune-worker-processes.sh
/docker-entrypoint.sh: Configuration complete; ready for start up
2025/08/23 18:52:12 [emerg] 1#1: host not found in upstream "web:5000" in /etc/nginx/nginx.conf:7
nginx: [emerg] host not found in upstream "web:5000" in /etc/nginx/nginx.conf:7
nginx: configuration file /etc/nginx/nginx.conf test failed
root@ubuntu:/opt/walter-braun-umzuege#
